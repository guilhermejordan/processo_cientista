Warning message:
'set_access_cred' is deprecated.
Use 'bq_auth(token = ...)' instead.
See help("Deprecated") and help("bigrquery-deprecated"). 


Attaching package: ‘dplyr’


The following objects are masked from ‘package:stats’:

    filter, lag

The following objects are masked from ‘package:base’:

    intersect, setdiff, setequal, union



Attaching package: ‘recipes’


The following object is masked from ‘package:stats’:

    step


Loading required package: lattice

Loading required package: ggplot2


Attaching package: ‘caret’


The following object is masked from ‘package:httr’:

    progress


Loading required package: foreach

Loading required package: iterators

Loading required package: parallel

Joining, by = c("date", "location")

data loaded
recipe trained
Warning message:
'set_access_cred' is deprecated.
Use 'bq_auth(token = ...)' instead.
See help("Deprecated") and help("bigrquery-deprecated"). 

Warning message:
'set_access_cred' is deprecated.
Use 'bq_auth(token = ...)' instead.
See help("Deprecated") and help("bigrquery-deprecated"). 

Warning message:
'set_access_cred' is deprecated.
Use 'bq_auth(token = ...)' instead.
See help("Deprecated") and help("bigrquery-deprecated"). 

Warning message:
'set_access_cred' is deprecated.
Use 'bq_auth(token = ...)' instead.
See help("Deprecated") and help("bigrquery-deprecated"). 

training start
Warning message:
In train.default(x, y, weights = w, ...) :
training finished

  The metric "Accuracy" was not in the result set. ROC will be used instead.

CART 

106645 samples
     8 predictor
     2 classes: 'No', 'Yes' 

No pre-processing
Resampling: Cross-Validated (10 fold, repeated 10 times) 

Summary of sample sizes: 95981, 95980, 95981, 95981, 95980, 95981, ... 
Resampling results across tuning parameters:


  cp     ROC        Sens       Spec     
  0.001  0.7579751  0.9518776  0.4361257
  0.002  0.7570967  0.9543457  0.4224901
  0.003  0.7568980  0.9556897  0.4134179
  0.004  0.7458752  0.9532833  0.4113977
  0.005  0.7253372  0.9561538  0.3909018

ROC was used to select the optimal model using the largest value.
The final value used for the model was cp = 0.001.

Cross-Validated (10 fold, repeated 10 times) Confusion Matrix 

(entries are percentual average cell counts across resamples)
 
          Reference
Prediction   No  Yes
       No  73.8 12.6
       Yes  3.7  9.8
                            
 Accuracy (average) : 0.8363


Confusion Matrix and Statistics

          Reference
Prediction    No   Yes
       No  26227  4569
       Yes  1352  3400

                                          
               Accuracy : 0.8334          
                 95% CI : (0.8295, 0.8373)
    No Information Rate : 0.7758          
    P-Value [Acc > NIR] : < 2.2e-16       
                                          
                  Kappa : 0.4409          
                                          
 Mcnemar's Test P-Value : < 2.2e-16       
                                          
            Sensitivity : 0.9510          
            Specificity : 0.4267          
         Pos Pred Value : 0.8516          
         Neg Pred Value : 0.7155          
             Prevalence : 0.7758          
         Detection Rate : 0.7378          
   Detection Prevalence : 0.8663          
      Balanced Accuracy : 0.6888          
                                          
       'Positive' Class : No              
                                          

rpart variable importance


              Overall
humidity       100.00
rainfall        61.24

raintodayYes    58.35
tempamplitude   53.33
tempchange      31.57
windgustspeed   16.54
pressure3pm     10.46
cloud3pm         0.00
